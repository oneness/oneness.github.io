<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="alternate"
      type="application/rss+xml"
      href="https://www.birkey.co/rss.xml"
      title="RSS feed for https://www.birkey.co/"/>
<title>BirkeyCo</title>
<meta name="author" content="Kasim Tuman">
  <meta name="referrer" content="no-referrer">
  <link href= "static/style.css" rel="stylesheet" type="text/css" />
  <link rel="icon" href="static/favicon.ico">
  <link rel="apple-touch-icon-precomposed" href="static/birkey_logo.png">
  <link rel="msapplication-TitleImage" href="static/birkey_logo.png">
  <link rel="msapplication-TitleColor" href="#0141ff">
  <script src="static/katex.min.js"></script>
  <script src="static/auto-render.min.js"></script>
  <link rel="stylesheet" href="static/katex.min.css">
  <script>document.addEventListener("DOMContentLoaded", function() { renderMathInElement(document.body); });</script>
  <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8">
  <meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1"></head>
<body>
<div id="preamble" class="status"><div class="header">
    <a href="https://www.birkey.co">Code, Data and Network</a>
    <div class="sitelinks">
      <a href="https://twitter.com/KasimTuman">Twitter</a> | <a href="https://github.com/oneness">Github</a> | <a href="https://www.birkey.co/resume/resume.pdf">About</a>
    </div>
  </div></div>
<div id="content">

<div class="post-date">20 Oct 2018</div><h1 class="post-title"><a href="2018-10-20-debug-voidlinux-unresolvable-lib-issue.html">Debug VoidLinux unresolvable lib issue</a></h1>
<p>
I have been a happy user of <b><a href="https://voidlinux.org/">VoidLinux</a></b> for about a year now and so
far have had almost no glitches whatsoever except for updating a year
old version of it installed on one of my spare laptop. The issue started as following:
</p>
<div class="org-src-container">
<pre class="src src-shell">xbps-install -Su
<span style="color: #b22222;"># </span><span style="color: #b22222;">resulted in following:</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">mozjs: broken, unresolvable shlib `libicu.so'</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Transaction aborted due to unresolved shlibs.</span>
</pre>
</div>
<p>
I do not now about you but I usually start with a google search of
what I think is somewhat general terms in my error message, which is
<i><b>&ldquo;Transaction aborted due to unresolved shlibs&rdquo;</b></i> in my case. Searching
with the above term came up with number of results and all point to
the build system is still running. You can check the status of it
here: <a href="https://build.voidlinux.eu/waterfall">Void Build Status</a>, which I did find that all is green and
idle. So it did not help me resolve my issue. Then, I decided to do
one more search with <i><b>&ldquo;mozjs: broken, unresolvable shlib
`libicu.so&rsquo;&rdquo;</b></i>, which is more specific to the state of my box only but
that did not help me go anywhere. Then I decided to debug it
myself. Following is my commandline session how I resolved it:
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #b22222;"># </span><span style="color: #b22222;">Ran the command again to make sure I have above issue </span>
xbps-install -Su
<span style="color: #b22222;"># </span><span style="color: #b22222;">again resulted in following:</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">mozjs: broken, unresolvable shlib `libicu.so'</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Transaction aborted due to unresolved shlibs.</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Notice the /*mozjs*/, which is my clue. Then I did:</span>
xbps-query -Rs mozjs
<span style="color: #b22222;"># </span><span style="color: #b22222;">from the output, I confirmed that it was not installed on my box,</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">which is my second clue to check if my repos url are</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">up-to-date. Remember it is a year old version of VoidLinux.  I</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">noticed from the output of xpbs-install -u, that the</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">void-repo-nonfree url does indeed point to an old url. So, I did:</span>
xbps-remove void-repo-nonfree &amp;&amp; xbps-install void-repo-nonfree
<span style="color: #b22222;"># </span><span style="color: #b22222;">to make sure my repo url is up-to-date. Then it is time to clean my</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">repo cache and remove any packages that might be orphened since my</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">repo url is pointing to a different url now. Using manpages for</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">xpbs-remove, I can do above with:</span>
xbps-remove -Oo
<span style="color: #b22222;"># </span><span style="color: #b22222;">Then I ran:</span>
xbps-install -Su
<span style="color: #b22222;"># </span><span style="color: #b22222;">Voila!, My one year old box is up-to-date without any issues now.</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">After all of this, I just made an one liner alias in my shell config:</span>
<span style="color: #483d8b;">alias</span> <span style="color: #a0522d;">c</span>=<span style="color: #8b2252;">'xbps-remove void-repo-nonfree &amp;&amp; xbps-install void-repo-nonfree &amp;&amp; xbps-install -Su </span>
</pre>
</div>

<p>
So no love lost for VoidLinux and it is still as awesome as ever. Just
to recap steps that I took to solve the issue:
</p>
<ol class="org-ol">
<li>Start using more general term to do a google search then narrow it
to specific ones. If it works, you save time and unneeded effort.</li>
<li>Check for the problem package reported. Is it installed? If yes,
try removing or updating it to see if it resolves your issue.</li>
<li>If you do not see the package installed, it might be repo url +
orphaned package issue. So update the repo url, remove orphan
packages and rebuild the cache.</li>
</ol>

<p>
If you tried all of the above and your issue still did not get
resolved, you might want to post it in VoidLinux forum for help. 
</p>
<div class="taglist"><a href="tags.html">Tags:</a> <a href="tag-voidlinux.html">VoidLinux</a> </div>
<div class="post-date">04 Oct 2018</div><h1 class="post-title"><a href="2018-10-04-visualize-google-search-results-from-clojure-repl.html">Visualize Google search results from Clojure REPL</a></h1>
<p>
While back when I was learning Clojure, I have written a small lib
that allows me directly generate bar chart out of google search
results from Clojure. I updated it with latest deps and added a fn to
save the bar-chart to a png file. You can checkout the project here:
<a href="https://github.com/oneness/gcount">https://github.com/oneness/gcount</a>.  Here is a one liner to get you
going:
</p>
<div class="org-src-container">
<pre class="src src-shell">git clone git@github.com:oneness/gcount.git &amp;&amp; <span style="color: #483d8b;">cd</span> gcount &amp;&amp; lein repl
</pre>
</div>
<p>
Once you are in repl, you can type following:
</p>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #7f7f7f;">(</span>search-view-terms <span style="color: #7f7f7f;">[</span><span style="color: #8b2252;">"Clojure Programming"</span> <span style="color: #8b2252;">"Elixir Programming"</span> <span style="color: #8b2252;">"Elm Programming"</span><span style="color: #7f7f7f;">])</span>
</pre>
</div>
<p>
Above will produce something like this:
<img src="https://www.birkey.co/images/google-search-result.png" alt="google-search-result.png">
</p>
<div class="taglist"><a href="tags.html">Tags:</a> <a href="tag-clojure.html">clojure</a> </div>
<div class="post-date">03 Oct 2018</div><h1 class="post-title"><a href="2018-10-03-vm-flags-from-running-jvm.html">VM flags from running JVM</a></h1>
<p>
While I was doing some JVM GC analysis recently, I got curious about the vm flags that `java` command uses by default if you do not specify it when starting your JVM.
Reading up JDK docs, I found <b>jcmd</b> is exactly what you need:
</p>
<div class="org-src-container">
<pre class="src src-shell">jcmd
</pre>
</div>
<p>
That will list all jvm instances running on your system beginning with
its pids, which you can pass into <b>jcmd</b> with options to print VM flags like this:
</p>
<div class="org-src-container">
<pre class="src src-shell">jcmd &lt;pid&gt; VM.flags
</pre>
</div>
<p>
There are many options you can use other than `VM.flags`, which you can get a full list by:
</p>
<div class="org-src-container">
<pre class="src src-shell">jcmd &lt;pid&gt; help
</pre>
</div>
<div class="taglist"><a href="tags.html">Tags:</a> <a href="tag-jvm.html">jvm</a> </div>
<div class="post-date">19 Sep 2018</div><h1 class="post-title"><a href="2018-9-20-blogging-simpler.html">Blogging Made Simple</a></h1>
<p>
After taking some time off from work to focus on projects that I like
to take on, I set out to find a simple way to use git and emacs workflow to
start blogging again. Among plethora of options on the web, I came
across this project - <a href="https://github.com/bastibe/org-static-blog">Org Static Blog</a> - that I resonated with. It took
me no time to set it up and start blogging. Below is my setup:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #7f7f7f;">(</span><span style="color: #a020f0;">use-package</span> <span style="color: #008b8b;">org-static-blog</span>
  <span style="color: #483d8b;">:straight</span> t
  <span style="color: #483d8b;">:config</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">-----------------------------------------------------------------------------</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Set up blogging in Emacs</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">-----------------------------------------------------------------------------</span>

  <span style="color: #7f7f7f;">(</span><span style="color: #a020f0;">setq</span> org-static-blog-publish-title <span style="color: #8b2252;">"BirkeyCo"</span><span style="color: #7f7f7f;">)</span>
  <span style="color: #7f7f7f;">(</span><span style="color: #a020f0;">setq</span> org-static-blog-publish-url <span style="color: #8b2252;">"https://www.birkey.co/"</span><span style="color: #7f7f7f;">)</span>
  <span style="color: #7f7f7f;">(</span><span style="color: #a020f0;">setq</span> org-static-blog-publish-directory <span style="color: #8b2252;">"~/github/oneness.github.io/"</span><span style="color: #7f7f7f;">)</span>
  <span style="color: #7f7f7f;">(</span><span style="color: #a020f0;">setq</span> org-static-blog-posts-directory <span style="color: #8b2252;">"~/github/oneness.github.io/posts/"</span><span style="color: #7f7f7f;">)</span>
  <span style="color: #7f7f7f;">(</span><span style="color: #a020f0;">setq</span> org-static-blog-drafts-directory <span style="color: #8b2252;">"~/github/oneness.github.io/drafts/"</span><span style="color: #7f7f7f;">)</span>
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">(setq org-static-blog-enable-tags t)</span>
  <span style="color: #7f7f7f;">(</span><span style="color: #a020f0;">setq</span> org-export-with-toc nil<span style="color: #7f7f7f;">)</span>
  <span style="color: #7f7f7f;">(</span><span style="color: #a020f0;">setq</span> org-export-with-section-numbers nil<span style="color: #7f7f7f;">)</span>

  <span style="color: #7f7f7f;">(</span><span style="color: #a020f0;">setq</span> org-static-blog-page-header
        <span style="color: #8b2252;">"&lt;meta name=\"author\" content=\"Kasim Tuman\"&gt;</span>
<span style="color: #8b2252;">&lt;meta name=\"referrer\" content=\"no-referrer\"&gt;</span>
<span style="color: #8b2252;">&lt;link href= \"static/style.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;</span>
<span style="color: #8b2252;">&lt;link rel=\"icon\" href=\"static/favicon.ico\"&gt;</span>
<span style="color: #8b2252;">&lt;link rel=\"apple-touch-icon-precomposed\" href=\"static/birkey_logo.png\"&gt;</span>
<span style="color: #8b2252;">&lt;link rel=\"msapplication-TitleImage\" href=\"static/birkey_logo.png\"&gt;</span>
<span style="color: #8b2252;">&lt;link rel=\"msapplication-TitleColor\" href=\"#0141ff\"&gt;</span>
<span style="color: #8b2252;">&lt;script src=\"static/katex.min.js\"&gt;&lt;/script&gt;</span>
<span style="color: #8b2252;">&lt;script src=\"static/auto-render.min.js\"&gt;&lt;/script&gt;</span>
<span style="color: #8b2252;">&lt;link rel=\"stylesheet\" href=\"static/katex.min.css\"&gt;</span>
<span style="color: #8b2252;">&lt;script&gt;document.addEventListener(\"DOMContentLoaded\", function() { renderMathInElement(document.body); });&lt;/script&gt;</span>
<span style="color: #8b2252;">&lt;meta http-equiv=\"content-type\" content=\"application/xhtml+xml; charset=UTF-8\"&gt;</span>
<span style="color: #8b2252;">&lt;meta name=\"viewport\" content=\"initial-scale=1,width=device-width,minimum-scale=1\"&gt;"</span><span style="color: #7f7f7f;">)</span>

  <span style="color: #7f7f7f;">(</span><span style="color: #a020f0;">setq</span> org-static-blog-page-preamble
        <span style="color: #8b2252;">"&lt;div class=\"header\"&gt;</span>
<span style="color: #8b2252;">  &lt;a href=\"https://birkey.co\"&gt;Code, Data and Network&lt;/a&gt;</span>
<span style="color: #8b2252;">  &lt;div class=\"sitelinks\"&gt;</span>
<span style="color: #8b2252;">    &lt;a href=\"https://twitter.com/KasimTuman\"&gt;Twitter&lt;/a&gt; | &lt;a href=\"https://github.com/oneness\"&gt;Github&lt;/a&gt;</span>
<span style="color: #8b2252;">  &lt;/div&gt;</span>
<span style="color: #8b2252;">&lt;/div&gt;"</span><span style="color: #7f7f7f;">)</span>

  <span style="color: #7f7f7f;">(</span><span style="color: #a020f0;">setq</span> org-static-blog-page-postamble
        <span style="color: #8b2252;">"&lt;div id=\"archive\"&gt;</span>
<span style="color: #8b2252;">  &lt;a href=\"https://www.birkey.co/archive.html\"&gt;Other posts&lt;/a&gt;</span>
<span style="color: #8b2252;">&lt;/div&gt;</span>
<span style="color: #8b2252;">&lt;center&gt;&lt;a rel=\"license\" href=\"https://creativecommons.org/licenses/by-sa/3.0/\"&gt;&lt;img alt=\"Creative Commons License\" style=\"border-width:0\" src=\"https://i.creativecommons.org/l/by-sa/3.0/88x31.png\" /&gt;&lt;/a&gt;&lt;br /&gt;&lt;span xmlns:dct=\"https://purl.org/dc/terms/\" href=\"https://purl.org/dc/dcmitype/Text\" property=\"dct:title\" rel=\"dct:type\"&gt;birkey.co&lt;/span&gt; by &lt;a xmlns:cc=\"https://creativecommons.org/ns#\" href=\"https://www.birkey.co\" property=\"cc:attributionName\" rel=\"cc:attributionURL\"&gt;Kasim Tuman&lt;/a&gt; is licensed under a &lt;a rel=\"license\" href=\"https://creativecommons.org/licenses/by-sa/3.0/\"&gt;Creative Commons Attribution-ShareAlike 3.0 Unported License&lt;/a&gt;.&lt;/center&gt;"</span><span style="color: #7f7f7f;">)</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">This slows down org-publish to a crawl, and it is not needed since</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">I use magit anyway.</span>
  <span style="color: #7f7f7f;">(</span>remove-hook 'find-file-hooks 'vc-find-file-hook<span style="color: #7f7f7f;">))</span>
</pre>
</div>
<div class="taglist"><a href="tags.html">Tags:</a> <a href="tag-emacs.html">emacs</a> <a href="tag-blogging.html">blogging</a> </div><div id="archive">
<a href="archive.html">Other posts</a>
</div>
</div>
</body>
</html>
